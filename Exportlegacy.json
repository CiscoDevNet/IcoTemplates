[{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Label":"Create Terraform Workspace","Name":"CreateTerraformWorkspace","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace","Name":"Workspace","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"this is  the GIT ID corresponding to WS","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace GIT ID","Name":"WorkspaceGitId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Org","Name":"tfcloudorg","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TfcbAgentPoolId","Name":"TfcbAgentPoolId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TfcbToken","Name":"TfcbToken","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SecurePropAccess":true,"SharedScope":"user","Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Label":"Create Terraform Workspace_Remote","Name":"CreateTerraformWorkspace_Remote","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace","Name":"Workspace","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"this is  the GIT ID corresponding to WS","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace GIT ID","Name":"WorkspaceGitId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Org","Name":"tfcloudorg","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TfcbToken","Name":"TfcbToken","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SecurePropAccess":true,"SharedScope":"user","Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"user","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Org","Name":"tfcloudorg","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue","Value":""},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TfcbAgentPoolId","Name":"TfcbAgentPoolId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":""},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TfcbToken","Name":"TfcbToken","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"AppdLegacyWorkspace","Name":"AppdLegacyWorkspace","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"CreateTerraformWorkspace1","ObjectType":"workflow.StartTask"},{"CatalogMoid":"user","Description":"CreateTerraformWorkspace","InputParameters":{"Target":"${workflow.input.Target}","TfcbAgentPoolId":"${workflow.input.TfcbAgentPoolId}","TfcbToken":"${workflow.input.TfcbToken}","Workspace":"AppdGlobal","WorkspaceGitId":"CiscoDevNet/AppdGlobal","tfcloudorg":"Lab14"},"Label":"Create AppdGlobal Workspace","Name":"CreateTerraformWorkspace1","ObjectType":"workflow.WorkerTask","OnSuccess":"CreateTerraformWorkspace2","TaskDefinitionName":"CreateTerraformWorkspace","Version":1},{"CatalogMoid":"user","Description":"CreateTerraformWorkspace","InputParameters":{"Target":"${workflow.input.Target}","TfcbAgentPoolId":"${workflow.input.TfcbAgentPoolId}","TfcbToken":"${workflow.input.TfcbToken}","Workspace":"AppdInfra","WorkspaceGitId":"CiscoDevNet/AppdInfra","tfcloudorg":"Lab14"},"Label":"Create AppdInfra Workspace","Name":"CreateTerraformWorkspace2","ObjectType":"workflow.WorkerTask","OnSuccess":"CreateTerraformWorkspace3","TaskDefinitionName":"CreateTerraformWorkspace","Version":1},{"CatalogMoid":"user","Description":"CreateTerraformWorkspace","InputParameters":{"Target":"${workflow.input.Target}","TfcbAgentPoolId":"${workflow.input.TfcbAgentPoolId}","TfcbToken":"${workflow.input.TfcbToken}","Workspace":"AppdDb","WorkspaceGitId":"CiscoDevNet/AppdDb","tfcloudorg":"Lab14"},"Label":"Create AppdDb Workspace","Name":"CreateTerraformWorkspace3","ObjectType":"workflow.WorkerTask","OnSuccess":"CreateTerraformWorkspaceRemote1","TaskDefinitionName":"CreateTerraformWorkspace","Version":1},{"CatalogMoid":"user","Description":"CreateTerraformWorkspace","InputParameters":{"Target":"${workflow.input.Target}","TfcbAgentPoolId":"${workflow.input.TfcbAgentPoolId}","TfcbToken":"${workflow.input.TfcbToken}","Workspace":"AppdRbac","WorkspaceGitId":"CiscoDevNet/AppdRbac","tfcloudorg":"Lab14"},"Label":"Create AppdRBAC Workspace","Name":"CreateTerraformWorkspace5","ObjectType":"workflow.WorkerTask","OnSuccess":"CreateTerraformWorkspace6","TaskDefinitionName":"CreateTerraformWorkspace","Version":1},{"CatalogMoid":"user","Description":"CreateTerraformWorkspace","InputParameters":{"Target":"${workflow.input.Target}","TfcbAgentPoolId":"${workflow.input.TfcbAgentPoolId}","TfcbToken":"${workflow.input.TfcbToken}","Workspace":"AppdApp","WorkspaceGitId":"CiscoDevNet/AppdApp","tfcloudorg":"Lab14"},"Label":"Create AppdApp Workspace","Name":"CreateTerraformWorkspace6","ObjectType":"workflow.WorkerTask","OnSuccess":"CreateTerraformWorkspace7","TaskDefinitionName":"CreateTerraformWorkspace","Version":1},{"CatalogMoid":"user","Description":"CreateTerraformWorkspace","InputParameters":{"Target":"${workflow.input.Target}","TfcbAgentPoolId":"${workflow.input.TfcbAgentPoolId}","TfcbToken":"${workflow.input.TfcbToken}","Workspace":"AppdLoad","WorkspaceGitId":"CiscoDevNet/AppdLoad","tfcloudorg":"Lab14"},"Label":"Create AppdLoad Workspace","Name":"CreateTerraformWorkspace7","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"CreateTerraformWorkspace","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"user","Description":"CreateTerraformWorkspace_Remote","InputParameters":{"TfcbToken":"${workflow.input.TfcbToken}","Workspace":"AppdSaas","WorkspaceGitId":"CiscoDevNet/AppdSaas","tfcloudorg":"Lab14"},"Label":"Create AppdSAAS Workspace","Name":"CreateTerraformWorkspaceRemote1","ObjectType":"workflow.WorkerTask","OnSuccess":"CreateTerraformWorkspace5","TaskDefinitionName":"CreateTerraformWorkspace_Remote","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":-6.668050395550242,"Y":-53.60201123487199},{"Name":"SuccessEndTask","X":-81.78276988682842,"Y":695.2036321512335},{"Name":"FailureEndTask","X":132.08058474387863,"Y":688.904468558462},{"Name":"CreateTerraformWorkspace1","X":-92.35670433483517,"Y":23.643972001894877},{"Name":"CreateTerraformWorkspace2","X":-85.17900168096948,"Y":97.5078245880263},{"Name":"CreateTerraformWorkspace3","X":476.09617781653355,"Y":236.69551753529785},{"Name":"CreateTerraformWorkspace5","X":470.98172268166377,"Y":379.11433375021994},{"Name":"CreateTerraformWorkspace6","X":228.0300578498287,"Y":401.96537963839495},{"Name":"CreateTerraformWorkspace7","X":463.2872770221544,"Y":516.0989696915597},{"Name":"CreateTerraformWorkspaceRemote1","X":477.4895191750354,"Y":309.76692637990027}]},"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Fetches the Workspace ID and AutoApply config for the given Name","Label":"Get Workspace Details From Name","Name":"GetWorkspaceDetailsFromName","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform target Type","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Organization","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace ID","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configured in the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Auto Apply","Name":"WorkspaceAutoApply","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"},"Required":true}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform add normal variable type CDT","Label":"Terraform Input Variable Type","Name":"TerraformInputVariableType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Key","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Key","Name":"Key","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Value","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Description","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Description","Name":"Description","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Add variable to Terraform Workspace","Label":"Add Variable","Name":"AddVariable","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformAddVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Workflow to add Terraform Variable","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformAddVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"InputParameterSet":[],"Label":"Add Terraform Variable","Name":"AddTerraformVariable","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"OutputParameters":{},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"AddVariable","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Add Terraform Variable","InputParameters":{"TerraformAddVariable":"${workflow.input.TerraformAddVariable}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"${workflow.input.WorkspaceId}"},"Label":"Add Variable","Name":"AddVariable","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"AddVariable","Version":1}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform add Sensitive variable type CDT","Label":"Terraform Sensitive Input Variable Type","Name":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Key","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Key","Name":"Key","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Value","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Description","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Description","Name":"Description","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Add sensitive variable to Terraform Workspace","Label":"Add Sensitive Variable","Name":"AddSensitiveVariable","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Sensitive Variable","Name":"TerraformAddSensitiveVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SecurePropAccess":true,"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Workflow to add Sensitive Terraform Variable","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform variable to be added","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Add Sensitive Variable","Name":"TerraformAddSensitiveVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataProperty"}}],"InputParameterSet":[],"Label":"Add Sensitive Terraform Variable","Name":"AddSensitiveTerraformVariable","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"OutputParameters":{},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"AddSensitiveVariable","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Add Sensitive Terraform Variable","InputParameters":{"TerraformAddSensitiveVariable":"${workflow.input.TerraformAddSensitiveVariable}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"${workflow.input.WorkspaceId}"},"Label":"Add Sensitive Variable","Name":"AddSensitiveVariable","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"AddSensitiveVariable","Version":1}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Adding variables to Terraform Workspace","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformInputVariableType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Variables to be added to the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Add Terraform Variables","Max":10,"Name":"AddTerraformVariables","ObjectType":"workflow.ArrayDataType"},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformSensitiveInputVariableType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Sensitive Variables to be added to the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Add Sensitive Terraform Variables","Max":10,"Name":"AddSensitiveTerraformVariables","ObjectType":"workflow.ArrayDataType"}],"InputParameterSet":[],"Label":"Add Terraform Workspace Variables","Name":"AddTerraformWorkspaceVariables","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"WorkspaceId","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"WorkspaceId":"{{ .global.GetWorkspaceDetails.output.WorkspaceId}}"},"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","Retryable":true,"SupportStatus":"Supported"},"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Tasks":[{"Name":"StartTask","NextTask":"GetWorkspaceDetails","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Fetches the Workspace ID and AutoApply config for the given Name","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"${workflow.input.TerraformWorkspaceName}"},"Label":"Get Workspace Details","Name":"GetWorkspaceDetails","ObjectType":"workflow.WorkerTask","OnSuccess":"AddAllVariables","TaskDefinitionName":"GetWorkspaceDetailsFromName","Version":1},{"Count":"{{ len .global.workflow.input.AddTerraformVariables }}","Description":"Add all the Variables to the Terraform Workspace","Label":"Add All Variables ","LoopStartTask":"AddVariable","Name":"AddAllVariables","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"AddAllSensitiveVariables","Parallel":true},{"CatalogMoid":"shared","Description":"Add a Terraform Variable","InputParameters":{"TerraformAddVariable":"{{ index .global.workflow.input.AddTerraformVariables .iteration | ToJson}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Label":"Add Variable","Name":"AddVariable","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"AddTerraformVariable"},{"Count":"{{ len .global.workflow.input.AddSensitiveTerraformVariables }}","Description":"Add all the Sensitive Variables to the Terraform Workspace","Label":"Add All Sensitive Variables","LoopStartTask":"AddSensitiveVariable","Name":"AddAllSensitiveVariables","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"SuccessEndTask","Parallel":true},{"CatalogMoid":"shared","Description":"Add a Sensitive Terraform Variable","InputParameters":{"TerraformAddSensitiveVariable":"{{ index .global.workflow.input.AddSensitiveTerraformVariables .iteration | ToJson}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Label":"Add Sensitive Variable","Name":"AddSensitiveVariable","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"AddSensitiveTerraformVariable"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"user","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"UpdateLegacyVars","Name":"UpdateLegacyVars","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"UpdateTerraformWorkspaceVariables1","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddSensitiveTerraformVariables":[{"Key":"root_password"},{"Key":"mysql_pass"},{"Key":"vsphere_password"}],"AddTerraformVariables":[{"Key":"vsphere_user","Value":"administrator@vsphere.local"},{"Key":"vm_memory","Value":"8192"},{"Key":"nbrapm","Value":"8"},{"Key":"nbrma","Value":"1"},{"Key":"nbrsim","Value":"1"},{"Key":"nbrnet","Value":"0"},{"Key":"vm_cpu","Value":"4"},{"Key":"vm_count","Value":"1"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdGlobal"},"Label":"Update AppdGlobal Variables","Name":"UpdateTerraformWorkspaceVariables1","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateTerraformWorkspaceVariables2","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddTerraformVariables":[{"Key":"appport","Value":"8085"},{"Key":"vsphere_server","Value":"10.88.168.24"},{"Key":"datacenter","Value":"Piso14-Lab"},{"Key":"resource_pool","Value":"ccmsuite"},{"Key":"datastore_name","Value":"CCPHXM4"},{"Key":"network_name","Value":"vm-network-6"},{"Key":"template_name","Value":"ubuntu-tmp"},{"Key":"vm_folder","Value":"terraform"},{"Key":"vm_prefix","Value":"terraform-"},{"Key":"vm_domain","Value":"lab14.lc"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdGlobal"},"Label":"Update AppdGlobal Variables2","Name":"UpdateTerraformWorkspaceVariables2","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateTerraformWorkspaceVariables4","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddTerraformVariables":[{"Key":"globalwsname","Value":"AppdGlobal"},{"Key":"dbvmwsname","Value":"AppdDb"},{"Key":"org","Value":"Lab14"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdInfra"},"Label":"Update AppdInfra Variables","Name":"UpdateTerraformWorkspaceVariables4","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateTerraformWorkspaceVariables5","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddTerraformVariables":[{"Key":"globalwsname","Value":"AppdGlobal"},{"Key":"org","Value":"Lab14"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdDb"},"Label":"Update AppdDb Variables","Name":"UpdateTerraformWorkspaceVariables5","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateTerraformWorkspaceVariables6","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddSensitiveTerraformVariables":[{"Key":"clientid"},{"Key":"clientsecret"}],"AddTerraformVariables":[{"Key":"appname","Value":"MasalaChaiStore"},{"Key":"javaver","Value":"21.5.0.32605"},{"Key":"infraver","Value":"21.5.0.1784"},{"Key":"machinever","Value":"21.6.0.3155"},{"Key":"ibmver","Value":"21.6.0.32801"},{"Key":"url","Value":"https://devnet.saas.appdynamics.com"},{"Key":"zerover","Value":"21.6.0.232"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdSaas"},"Label":"Update AppdSaas Variables","Name":"UpdateTerraformWorkspaceVariables6","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateTerraformWorkspaceVariables7","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddTerraformVariables":[{"Key":"appvmwsname","Value":"AppdInfra"},{"Key":"saaswsname","Value":"AppdSaas"},{"Key":"globalwsname","Value":"AppdGlobal"},{"Key":"org","Value":"Lab14"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdRbac"},"Label":"Update AppdRbac Variables","Name":"UpdateTerraformWorkspaceVariables7","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateTerraformWorkspaceVariables8","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddTerraformVariables":[{"Key":"globalwsname","Value":"AppdGlobal"},{"Key":"dbvmwsname","Value":"AppdDb"},{"Key":"appvmwsname","Value":"AppdInfra"},{"Key":"org","Value":"Lab14"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdApp"},"Label":"Update AppdApp Variables","Name":"UpdateTerraformWorkspaceVariables8","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateTerraformWorkspaceVariables9","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"AddTerraformVariables":[{"Key":"appvmwsname","Value":"AppdInfra"},{"Key":"globalwsname","Value":"AppdGlobal"},{"Key":"trigcount","Value":"20"},{"Key":"org","Value":"Lab14"}],"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"AppdLoad"},"Label":"Update AppdLoad Variables","Name":"UpdateTerraformWorkspaceVariables9","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"SuccessEndTask","Version":1,"WorkflowDefinitionName":"AddTerraformWorkspaceVariables"}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":474.28685293294313,"Y":-123.61889263435276},{"Name":"SuccessEndTask","X":474.28685293294313,"Y":796.270778590356},{"Name":"FailureEndTask","X":617.2868529329438,"Y":796.270778590356},{"Name":"UpdateTerraformWorkspaceVariables1","X":390.6149098364783,"Y":-46.04980226366878},{"Name":"UpdateTerraformWorkspaceVariables2","X":389.286852932943,"Y":53.03536564650098},{"Name":"UpdateTerraformWorkspaceVariables4","X":391.16118233948015,"Y":129.7068234128808},{"Name":"UpdateTerraformWorkspaceVariables5","X":394.77827280205867,"Y":214.90659569866756},{"Name":"UpdateTerraformWorkspaceVariables6","X":392.06156223049885,"Y":310.8014371078635},{"Name":"UpdateTerraformWorkspaceVariables7","X":395.364961182109,"Y":394.0795608861268},{"Name":"UpdateTerraformWorkspaceVariables8","X":394.2159084972978,"Y":482.436243583965},{"Name":"UpdateTerraformWorkspaceVariables9","X":391.6938968961678,"Y":565.5995950272646}]},"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"This data type takes holds information about a formatted string.","Label":"Formatted Text","Name":"FormattedText","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The content type of the request. Currently supports JSON and Text.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Content Type","Name":"ContentType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"JSON","ObjectType":"workflow.EnumEntry","Value":"json"},{"Label":"Text","ObjectType":"workflow.EnumEntry","Value":"text"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The content of the formatted text that can spawn multiple lines.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Text","Name":"Text","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Response parser framework supports extraction of required values from API/device responses. These responses may be of various content types such as XML, JSON, etc. The values of importance are modeled as parameters in the response parser framework.\nThe parameters can be of a scalar value type or a collection of values. A group of related parameters can be modeled as a single complex type parameter. These complex types will be very useful to extract a set of repeating group of related parameters.\nA response parser specification defines the set of parameters that need to be extracted from the content. The response parser specification allows complex type definitions to be defined for any complex parameters.","Label":"Response Parser","Name":"ResponseParserType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"ResponseParameter","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The collection of parameters that need to be extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameters","Max":10,"Min":1,"Name":"Parameters","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","Label":"Invoke Web API Request","Name":"InvokeGenericWebApi","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}]},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"HTTP protocol to be used - HTTP, HTTPS. Populated implicitly by fetching the value from target task input if API endpoint is added as target within Intersight. Default value of HTTPS is set if not specified in other scenarios.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Protocol","Name":"Protocol","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"HTTP","ObjectType":"workflow.EnumEntry","Value":"http"},{"Label":"HTTPS","ObjectType":"workflow.EnumEntry","Value":"https"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"HTTP method to be requested on the given URL. If the value is not given, GET is used as default.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Method","Name":"Method","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"GET","ObjectType":"workflow.EnumEntry","Value":"GET"},{"Label":"HEAD","ObjectType":"workflow.EnumEntry","Value":"HEAD"},{"Label":"POST","ObjectType":"workflow.EnumEntry","Value":"POST"},{"Label":"PUT","ObjectType":"workflow.EnumEntry","Value":"PUT"},{"Label":"PATCH","ObjectType":"workflow.EnumEntry","Value":"PATCH"},{"Label":"DELETE","ObjectType":"workflow.EnumEntry","Value":"DELETE"},{"Label":"OPTIONS","ObjectType":"workflow.EnumEntry","Value":"OPTIONS"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Relative URL for Intersight, Device Registration and Target APIs. Does not support specifying fully qualified URL.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"URL","Name":"Url","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The request headers that need to be sent in the request in key value pairs list.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Headers","Name":"Headers","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The key value pairs given in this input will be sent in HTTP 'Cookie' header.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cookies","Name":"Cookies","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The type of the response. Currently supports JSON.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Response Type","Name":"ContentType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"JSON","ObjectType":"workflow.EnumEntry","Value":"json"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The optional request body that is sent as part of this API request. The request body can contain golang templates that can be populated with task input parameters and previous API output parameters.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Body","Name":"Body","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"FormattedText","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The structure of the response parser shall provide the list of values that need to be extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Response Parser","Name":"ResponseParser","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ResponseParserType","ObjectType":"workflow.CustomDataProperty"}},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"Outcome","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Allows to capture the possible outcomes of this API. This is a collection of outcomes which gets evaluated in the order they are given. If an outcome condition evaluates to 'true', status of the task can be set to one of the supported types - Success, Error or no operation and also an optional task execution message can be set.\nAt the end of the outcomes list, a catchall success/fail outcome can be added with condition explicitly set as 'true'. This allows to mark the status of task execution either success or failure when none of the previous outcomes match.\nWhen no outcomes is specified, default behaviour is to mark the API execution status 'success' if obtained HTTP status code is 2xx else mark it as 'failed'.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Outcomes","Max":10,"Name":"Outcomes","ObjectType":"workflow.ArrayDataType"}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The response headers that are extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Headers","Name":"Headers","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of cookies obtained from the response in the form of key value pairs.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cookies","Name":"Cookies","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The HTTP status code of the Web API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Status Code","Name":"StatusCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The HTTP status message of the Web API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Status Message","Name":"StatusMessage","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of output parameters extracted from the response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameters","Name":"Parameters","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Executors"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Monitor Terraform Run Execution Status","Label":"Monitor Terraform Run Execution Status","Name":"ShowTaskStatus","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"RunId of the executing Run","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run Id","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The status of the Run ID being applied","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run Status","Name":"RunStatus","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":3,"RetryDelay":10,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":10,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform variable type CDT","Label":"Terraform Key Value Type","Name":"TerraformKeyValueType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable key","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Key","Name":"Key","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Value","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Gets name and value of state version outputIds","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"State version outputIds","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"StateVersionOutputId","Name":"StateVersionOutputId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"Get State Version Output Name Value","Name":"GetStateVersionOutputNameValue","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name and value of state version outputIds","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name Value Pair","Name":"NameValuePair","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformKeyValueType","ObjectType":"workflow.CustomDataType"},"Required":true}],"OutputParameters":{"NameValuePair":{"Key":"{{.global.GetNameValue.output.Parameters.Name}}","Value":"{{.global.GetNameValue.output.Parameters.Value}}"}},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"GetNameValue","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Gets name and value of the state outputId","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 200}}","Message":"{{.local.response.Name}} : {{.local.response.Value}}","Name":"SuccessCase","Type":"Success"},{"Condition":"{{ne .local.response.HttpStatusCode  200}}","Message":"We are unable to fetch the Name and Value for the Output \"${workflow.input.StateVersionOutputId}\" due to an unexpected error message. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"FailureCase","Type":"Error"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"Name","Path":"$.data.attributes.name","Type":"string"},{"Name":"Value","Path":"$.data.attributes.value","Type":"string"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"api/v2/state-version-outputs/${workflow.input.StateVersionOutputId}"},"Label":"GetNameValue","Name":"GetNameValue","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform target Type","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"Approve Terraform Run","Name":"ApproveTerraformRun","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace ID","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configured in the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Auto Apply","Name":"WorkspaceAutoApply","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Current state version of the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Current State Version","Name":"CurrentStateVersion","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformKeyValueType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name-Value pairs of the State Outputs","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Outputs","Max":32,"Min":1,"Name":"Outputs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run ID","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run Status","Name":"RunStatus","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"CurrentStateVersion":"{{.global.GetCurrentStateVersion.output.Parameters.CurrentStateVersion}}","Outputs":"${QueryStateVersionOutput.output.NameValuePair}","RunId":"{{if index .global.GetLatestRunIdForAutoapply.output `Parameters`}}{{.global.GetLatestRunIdForAutoapply.output.Parameters.RunId}}{{else}}{{index .global.GetRunId.output.Parameters.RunId 0}}{{end}}","RunStatus":"{{if index .global.ValidateRunForManualApply.output `RunStatus`}}{{.global.ValidateRunForManualApply.output.RunStatus}}{{else}}{{.global.ValidateRunForAutoApply.output.RunStatus}}{{end}}","WorkspaceAutoApply":"{{.global.GetWorkspaceDetails.output.WorkspaceAutoApply}}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Tasks":[{"Name":"StartTask","NextTask":"GetWorkspaceDetails","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Fetches the Workspace ID and AutoApply config for the given Name","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"${workflow.input.TerraformWorkspaceName}"},"Label":"Get Workspace Details","Name":"GetWorkspaceDetails","ObjectType":"workflow.WorkerTask","OnSuccess":"AutoApplyDecisionTask","TaskDefinitionName":"GetWorkspaceDetailsFromName","Version":1},{"Condition":" if ( ${GetWorkspaceDetails.output.WorkspaceAutoApply} == false ) 'ManualApply'; else if ( ${GetWorkspaceDetails.output.WorkspaceAutoApply} == true )  'AutoApply'; ","DecisionCases":[{"Description":"Workspace configured with Auto Apply Method","NextTask":"GetLatestRunIdForAutoapply","ObjectType":"workflow.DecisionCase","Value":"AutoApply"},{"Description":"Workspace configured with Manual Apply Method","NextTask":"GetRunId","ObjectType":"workflow.DecisionCase","Value":"ManualApply"}],"DefaultTask":"FailureEndTask","Description":"Fetches the configured Apply Method","Label":"Auto Apply Decision Task","Name":"AutoApplyDecisionTask","ObjectType":"workflow.DecisionTask"},{"CatalogMoid":"shared","Description":"Manual Apply Method: Fetches the Run ID for the \"Needs Confirmation\" run","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{ne .local.response.HttpStatusCode  200}}","Message":"We are unable to fetch the Run ID due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg }}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .local.response.RunId}}true{{else}}false{{end}}","Message":"We are unable to fetch the Run ID. Do try again after ensuring that the Run is in the \"Needs Confirmation\" state.","Name":"NoRunIdWithIsConfirmableSetToTrue","Type":"Error"},{"Condition":"true","Message":"Run ID \"{{index .local.response.RunId 0}}\" is in use.","Name":"RunIdInPlanned","Type":"Success"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"RunId","Path":"$[\"data\"][?(@[\"attributes\"][\"actions\"][\"is-confirmable\"]==true)][\"id\"]","Type":"simple"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.GetWorkspaceDetails.output.WorkspaceId}}/runs"},"Label":"Get Run ID","Name":"GetRunId","ObjectType":"workflow.WorkerTask","OnSuccess":"ApplyRun","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"CatalogMoid":"shared","Description":"Auto Apply Method: Fetches the latest Run ID","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{ne .local.response.HttpStatusCode  200}}","Message":"We are unable to fetch the latest Run ID due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .local.response.RunId}}true{{else}}false{{end}}","Message":"We are unable to fetch a Run ID.  Do retry by uploading a configuration version.","Name":"WorkspaceHasNoRuns","Type":"Error"},{"Condition":"true","Message":"The Run ID in use is \"{{.local.response.RunId}}\".","Name":"WorkspaceHasRuns","Type":"Success"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"RunId","Path":"$.data[0].id","Type":"simple"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.GetWorkspaceDetails.output.WorkspaceId}}/runs"},"Label":"Get Latest Run ID","Name":"GetLatestRunIdForAutoapply","ObjectType":"workflow.WorkerTask","OnSuccess":"ValidateRunForAutoApply","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"CatalogMoid":"shared","Description":"Manual Apply Method: Applies the run waiting for confirmation","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"POST","Outcomes":[{"Condition":"{{ne .local.response.HttpStatusCode 202}}","Message":"We are unable to apply the run due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{eq .local.response.HttpStatusCode 202}}","Message":"The run is applied.","Name":"ApplyRunSubmitted","Type":"Success"}],"Protocol":"https","ResponseParser":{},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/runs/{{index .global.GetRunId.output.Parameters.RunId 0}}/actions/apply"},"Label":"Apply Run","Name":"ApplyRun","ObjectType":"workflow.WorkerTask","OnSuccess":"ValidateRunForManualApply","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"CatalogMoid":"shared","Description":"Manual Apply Method: Checks the Run execution Status","InputParameters":{"RunId":"{{index .global.GetRunId.output.Parameters.RunId 0}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}"},"Label":"Validate Run For Manual Apply","Name":"ValidateRunForManualApply","ObjectType":"workflow.WorkerTask","OnSuccess":"GetCurrentStateVersion","TaskDefinitionName":"ShowTaskStatus","Version":1},{"CatalogMoid":"shared","Description":"Auto Apply Method: Checks the Run execution status","InputParameters":{"RunId":"{{.global.GetLatestRunIdForAutoapply.output.Parameters.RunId}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}"},"Label":"Validate Run For Auto Apply","Name":"ValidateRunForAutoApply","ObjectType":"workflow.WorkerTask","OnSuccess":"GetCurrentStateVersion","TaskDefinitionName":"ShowTaskStatus","Version":1},{"CatalogMoid":"shared","Description":"Fetches the Current State Version for the Workspace","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 200}}","Message":"We fetched the current state version for the Workspace.","Name":"SuccessCase","Type":"Success"},{"Condition":"{{ne .local.response.HttpStatusCode 200}}","Message":"We are unable to fetch the current state version due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"FailureCase","Type":"Error"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"CurrentStateVersion","Path":"$[\"data\"][\"attributes\"][\"hosted-state-download-url\"]","Type":"simple"},{"Name":"StateVersionOutputs","Path":"$.data.relationships.outputs.data[*].id","Type":"string"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.GetWorkspaceDetails.output.WorkspaceId}}/current-state-version"},"Label":"Get Current State Version","Name":"GetCurrentStateVersion","ObjectType":"workflow.WorkerTask","OnSuccess":"QueryStateVersionOutputs","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"Count":"{{len .global.GetCurrentStateVersion.output.Parameters.StateVersionOutputs}}","Description":"Queries Name and Value of State Version Outputs","Label":"Query State Version Outputs","LoopStartTask":"QueryStateVersionOutput","Name":"QueryStateVersionOutputs","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"SuccessEndTask","Parallel":true},{"CatalogMoid":"shared","Description":"Queries Name and Value of State Version Output","InputParameters":{"StateVersionOutputId":"{{ index .global.GetCurrentStateVersion.output.Parameters.StateVersionOutputs .iteration }}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}"},"Label":"Query State Version Output","Name":"QueryStateVersionOutput","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"GetStateVersionOutputNameValue"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Label":"Sleep Task","Name":"InvokeSleepTask","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Sleep Time in Seconds","Name":"SleepTimeInSec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":600,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"CoreTasks"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Queueing a plan in a workflow","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Reason for queueing plan","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Reason for queueing plan","Name":"QueueReason","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"InputParameterSet":[],"Label":"Invoke Queue Terraform Plan","Name":"InvokeQueueTerraformPlan","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run ID","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"RunId":"${QueuePlan.output.Parameters.RunId}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Tasks":[{"Name":"StartTask","NextTask":"GetWorkspaceDetails","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Fetches the Workspace ID and AutoApply config for the given Name","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"${workflow.input.TerraformWorkspaceName}"},"Label":"Get Workspace Details","Name":"GetWorkspaceDetails","ObjectType":"workflow.WorkerTask","OnSuccess":"QueuePlan","TaskDefinitionName":"GetWorkspaceDetailsFromName","Version":1},{"CatalogMoid":"shared","Description":"Queues the plan for the specified Workspace.","InputParameters":{"Body":{"ContentType":"json","Text":"{\"data\":{\"attributes\":{\"comment\":null,\"message\":\"${workflow.input.QueueReason}\",\"is-destroy\":false},\"relationships\":{\"workspace\":{\"data\":{\"type\":\"workspaces\",\"id\":\"{{.global.GetWorkspaceDetails.output.WorkspaceId}}\"}}},\"type\":\"runs\"}}"},"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"POST","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 422}}","Message":"We are unable to queue a plan for the Workspace \"${workflow.input.TerraformWorkspaceName}\". \"{{.local.response.detail}}\". Do retry by uploading a configuration version.","Name":"ConfigDoesNotExist","Type":"Error"},{"Condition":"{{ne .local.response.HttpStatusCode 201}}","Message":"We are unable to queue a plan for the Workspace \"${workflow.input.TerraformWorkspaceName}\" due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"AnyOtherFailure","Type":"Error"},{"Condition":"{{eq .local.response.HttpStatusCode 201}}","Message":"The plan for the Workspace \"${workflow.input.TerraformWorkspaceName}\" is queued.","Name":"ConfigUploaded","Type":"Success"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"RunId","Path":"$.data.id","Type":"simple"},{"Name":"detail","Path":"$.errors[0].detail","Type":"simple"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/runs"},"Label":"Queue Plan","Name":"QueuePlan","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"user","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"InvokeLegacyPlans","Name":"InvokeLegacyPlans","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"InvokeQueueTerraformPlan1","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdGlobal"},"Label":"Set Workspace Globals","Name":"ApproveTerraformRun1","ObjectType":"workflow.SubWorkflowTask","OnFailure":"InvokeSleepTask4","OnSuccess":"InvokeSleepTask4","Version":1,"WorkflowDefinitionName":"ApproveTerraformRun"},{"CatalogMoid":"shared","Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdInfra"},"Label":"Provision Infrastructure","Name":"ApproveTerraformRun2","ObjectType":"workflow.SubWorkflowTask","OnFailure":"InvokeSleepTask5","OnSuccess":"InvokeSleepTask5","Version":1,"WorkflowDefinitionName":"ApproveTerraformRun"},{"CatalogMoid":"shared","Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdDb"},"Label":"Deploy Persistence Service","Name":"ApproveTerraformRun3","ObjectType":"workflow.SubWorkflowTask","OnFailure":"InvokeSleepTask6","OnSuccess":"InvokeSleepTask6","Version":1,"WorkflowDefinitionName":"ApproveTerraformRun"},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":120},"Label":"Sleep Task Global","Name":"InvokeSleepTask1","ObjectType":"workflow.WorkerTask","OnSuccess":"ApproveTerraformRun1","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"Queueing a plan in a workflow","InputParameters":{"QueueReason":"demoico","TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdGlobal"},"Label":"Invoke Queue Global","Name":"InvokeQueueTerraformPlan1","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeSleepTask1","Version":1,"WorkflowDefinitionName":"InvokeQueueTerraformPlan"},{"CatalogMoid":"shared","Description":"Queueing a plan in a workflow","InputParameters":{"QueueReason":"demoico","TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdInfra"},"Label":"Invoke Queue Infra","Name":"InvokeQueueTerraformPlan2","ObjectType":"workflow.SubWorkflowTask","OnFailure":"InvokeSleepTask2","OnSuccess":"InvokeSleepTask2","Version":1,"WorkflowDefinitionName":"InvokeQueueTerraformPlan"},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":300},"Label":"Sleep Task Infra","Name":"InvokeSleepTask2","ObjectType":"workflow.WorkerTask","OnSuccess":"ApproveTerraformRun2","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"Queueing a plan in a workflow","InputParameters":{"QueueReason":"demoico","TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdDb"},"Label":"Invoke Queue Persistence","Name":"InvokeQueueTerraformPlan3","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeSleepTask3","Version":1,"WorkflowDefinitionName":"InvokeQueueTerraformPlan"},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":300},"Label":"Sleep Task Persistence","Name":"InvokeSleepTask3","ObjectType":"workflow.WorkerTask","OnSuccess":"ApproveTerraformRun3","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":300},"Label":"Sleep2 Task Global","Name":"InvokeSleepTask4","ObjectType":"workflow.WorkerTask","OnSuccess":"InvokeQueueTerraformPlan3","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":300},"Label":"Sleep2 Task Infra","Name":"InvokeSleepTask5","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":300},"Label":"Sleep2 Task Persistence","Name":"InvokeSleepTask6","ObjectType":"workflow.WorkerTask","OnSuccess":"InvokeQueueTerraformPlan2","TaskDefinitionName":"InvokeSleepTask","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":-266.2618340248473,"Y":-407.2588506231001},{"Name":"SuccessEndTask","X":-266.2618340248473,"Y":719.7411493768992},{"Name":"FailureEndTask","X":-124.26183402484729,"Y":719.7411493768992},{"Name":"ApproveTerraformRun1","X":-351.2618340248473,"Y":-160.2588506231003},{"Name":"ApproveTerraformRun2","X":-351.2618340248473,"Y":543.7411493768992},{"Name":"ApproveTerraformRun3","X":-351.2618340248473,"Y":191.74114937689984},{"Name":"InvokeSleepTask1","X":-351.2618340248473,"Y":-248.25885062310022},{"Name":"InvokeQueueTerraformPlan1","X":-351.2618340248473,"Y":-336.25885062310016},{"Name":"InvokeQueueTerraformPlan2","X":-352.6963447137684,"Y":205.24694673325365},{"Name":"InvokeSleepTask2","X":-351.1287740056791,"Y":455.7411493768993},{"Name":"InvokeQueueTerraformPlan3","X":-351.2618340248473,"Y":15.741149376899779},{"Name":"InvokeSleepTask3","X":-351.2618340248473,"Y":103.74114937689991},{"Name":"InvokeSleepTask4","X":-351.2618340248473,"Y":-72.25885062310022},{"Name":"InvokeSleepTask5","X":-351.2618340248473,"Y":631.7411493768992},{"Name":"InvokeSleepTask6","X":-351.2618340248473,"Y":279.7411493768998}]},"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"user","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"InvokeLegacyPlans2","Name":"InvokeLegacyPlans2","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"InvokeQueueTerraformPlan4","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdSaas"},"Label":"Retrieve artifacts from Appd SAAS","Name":"ApproveTerraformRun4","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeQueueTerraformPlan5","Version":1,"WorkflowDefinitionName":"ApproveTerraformRun"},{"CatalogMoid":"shared","Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdRbac"},"Label":"Execute RBAC Zero Agent Install","Name":"ApproveTerraformRun5","ObjectType":"workflow.SubWorkflowTask","OnFailure":"InvokeSleepTask1","OnSuccess":"InvokeSleepTask1","Version":1,"WorkflowDefinitionName":"ApproveTerraformRun"},{"CatalogMoid":"shared","Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdApp"},"Label":"Deploy Microservices","Name":"ApproveTerraformRun6","ObjectType":"workflow.SubWorkflowTask","OnFailure":"FailureEndTask","OnSuccess":"InvokeSleepTask2","Version":1,"WorkflowDefinitionName":"ApproveTerraformRun"},{"CatalogMoid":"shared","Description":"Queueing a plan in a workflow","InputParameters":{"QueueReason":"demoico","TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdSaas"},"Label":"Invoke Queue Saas","Name":"InvokeQueueTerraformPlan4","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeSleepTask4","Version":1,"WorkflowDefinitionName":"InvokeQueueTerraformPlan"},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":30},"Label":"Sleep Task Saas","Name":"InvokeSleepTask4","ObjectType":"workflow.WorkerTask","OnSuccess":"ApproveTerraformRun4","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"Queueing a plan in a workflow","InputParameters":{"QueueReason":"demoico","TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdRbac"},"Label":"Invoke Queue Rbac","Name":"InvokeQueueTerraformPlan5","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeSleepTask5","Version":1,"WorkflowDefinitionName":"InvokeQueueTerraformPlan"},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":120},"Label":"Sleep Task Rbac","Name":"InvokeSleepTask5","ObjectType":"workflow.WorkerTask","OnSuccess":"ApproveTerraformRun5","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"Queueing a plan in a workflow","InputParameters":{"QueueReason":"demoico","TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdApp"},"Label":"Invoke Queue Micro","Name":"InvokeQueueTerraformPlan6","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeSleepTask6","Version":1,"WorkflowDefinitionName":"InvokeQueueTerraformPlan"},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":300},"Label":"Sleep Task Micro","Name":"InvokeSleepTask6","ObjectType":"workflow.WorkerTask","OnSuccess":"ApproveTerraformRun6","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":180},"Label":"Sleep Task Rbac2","Name":"InvokeSleepTask1","ObjectType":"workflow.WorkerTask","OnSuccess":"InvokeQueueTerraformPlan6","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":240},"Label":"Sleep Task Micro2","Name":"InvokeSleepTask2","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeSleepTask","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":161.09230396211933,"Y":-851.9163932873003},{"Name":"SuccessEndTask","X":44.582287806428205,"Y":284.8681756627363},{"Name":"FailureEndTask","X":261.8976064676946,"Y":281.55196550113465},{"Name":"ApproveTerraformRun4","X":76.09230396211944,"Y":-564.8910989991248},{"Name":"ApproveTerraformRun5","X":76.09230396211944,"Y":-267.89109899912364},{"Name":"ApproveTerraformRun6","X":76.09230396211944,"Y":128.10890100087602},{"Name":"InvokeQueueTerraformPlan4","X":76.09230396211944,"Y":-762.891098999125},{"Name":"InvokeSleepTask4","X":76.09230396211944,"Y":-663.891098999125},{"Name":"InvokeQueueTerraformPlan5","X":76.09230396211944,"Y":-465.8910989991241},{"Name":"InvokeSleepTask5","X":76.09230396211944,"Y":-366.89109899912387},{"Name":"InvokeQueueTerraformPlan6","X":76.09230396211944,"Y":-69.89109899912381},{"Name":"InvokeSleepTask6","X":76.09230396211944,"Y":28.88553768034074},{"Name":"InvokeSleepTask1","X":76.09230396211944,"Y":-168.89109899912364},{"Name":"InvokeSleepTask2","X":429.5,"Y":534}]},"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"user","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Org","Name":"tfcloudorg","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue","Value":""},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TfcbAgentPoolId","Name":"TfcbAgentPoolId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":""},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TfcbToken","Name":"TfcbToken","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"AppdLegacy","Name":"AppdLegacy","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"AppdLegacyWorkspace1","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"user","InputParameters":{"TfcbAgentPoolId":"${workflow.input.TfcbAgentPoolId}","TfcbToken":"${workflow.input.TfcbToken}","tfcloudorg":"Lab14"},"Label":"SetupLegacyWorkspaces","Name":"AppdLegacyWorkspace1","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"UpdateLegacyVars1","Version":1,"WorkflowDefinitionName":"AppdLegacyWorkspace"},{"CatalogMoid":"user","InputParameters":{"TerraformOrganizationName":"Lab14"},"Label":"UpdateLegacyWorkspaceVars","Name":"UpdateLegacyVars1","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeLegacyPlans1","Version":1,"WorkflowDefinitionName":"UpdateLegacyVars"},{"CatalogMoid":"user","InputParameters":{"TerraformOrganizationName":"Lab14"},"Label":"InvokeLegacyPlansBase","Name":"InvokeLegacyPlans1","ObjectType":"workflow.SubWorkflowTask","OnFailure":"InvokeLegacyPlans21","OnSuccess":"InvokeLegacyPlans21","Version":1,"WorkflowDefinitionName":"InvokeLegacyPlans"},{"CatalogMoid":"user","Description":"InvokeLegacyPlans2","InputParameters":{"TerraformOrganizationName":"Lab14"},"Label":"InvokeLegacyApps","Name":"InvokeLegacyPlans21","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"SuccessEndTask","Version":1,"WorkflowDefinitionName":"InvokeLegacyPlans2"}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":379.2265464871556,"Y":34.18481622283234},{"Name":"SuccessEndTask","X":295.551874528239,"Y":559.6625384296626},{"Name":"FailureEndTask","X":528.232475632465,"Y":557.7183659168123},{"Name":"AppdLegacyWorkspace1","X":295.00876473465564,"Y":112.4283579043396},{"Name":"UpdateLegacyVars1","X":292.3857546735203,"Y":182.41604538415453},{"Name":"InvokeLegacyPlans1","X":294.25244591011676,"Y":261.85633134185605},{"Name":"InvokeLegacyPlans21","X":302.82012964531026,"Y":326.98841578850755}]},"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"Batch":[{"Body":"\n\n{\n   \"data\": {\n      \"attributes\": {\n         \"name\": \"{{.global.task.input.Workspace}}\",\n         \"resource-count\": 0,\n         \"terraform_version\": \"1.0.0\",\n         \"working-directory\": \"\",\n         \"execution-mode\": \"agent\",\n         \"global-remote-state\": true,\n         \"agent-pool-id\": \"{{.global.task.input.TfcbAgentPoolId}}\",\n         \"vcs-repo\": {\n            \"identifier\": \"{{.global.task.input.WorkspaceGitId}}\",\n            \"oauth-token-id\": \"{{.global.task.input.TfcbToken}}\",\n            \"branch\": \"\"\n         }\n      },\n      \"type\": \"workspaces\"\n   }\n}\n\n","ContentType":"json","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","EndpointRequestType":"Internal","Headers":{"Content-Type":["application/vnd.api+json"]},"Label":"Invoke Web API Request","Method":"POST","Name":"InvokeWebAPIRequest1","ObjectType":"workflow.WebApi","Outcomes":[],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Endpoint","Url":"api/v2/organizations/{{.global.task.input.tfcloudorg}}/workspaces"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Name":"Create Terraform Workspace","ObjectType":"workflow.BatchApiExecutor","Output":{},"SharedScope":"user","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"CreateTerraformWorkspace\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"\n\n{\n   \"data\": {\n      \"attributes\": {\n         \"name\": \"{{.global.task.input.Workspace}}\",\n         \"resource-count\": 0,\n         \"terraform_version\": \"1.0.0\",\n         \"working-directory\": \"\",\n         \"execution-mode\": \"remote\",\n         \"global-remote-state\": true,\n         \"vcs-repo\": {\n            \"identifier\": \"{{.global.task.input.WorkspaceGitId}}\",\n            \"oauth-token-id\": \"{{.global.task.input.TfcbToken}}\",\n            \"branch\": \"\"\n         }\n      },\n      \"type\": \"workspaces\"\n   }\n}\n\n","ContentType":"json","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","EndpointRequestType":"Internal","Headers":{"Content-Type":["application/vnd.api+json"]},"Label":"Invoke Web API Request","Method":"POST","Name":"InvokeWebAPIRequest1","ObjectType":"workflow.WebApi","Outcomes":[],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Endpoint","Url":"api/v2/organizations/{{.global.task.input.tfcloudorg}}/workspaces"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Name":"Create Terraform Workspace_Remote","ObjectType":"workflow.BatchApiExecutor","Output":{},"SharedScope":"user","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"CreateTerraformWorkspace_Remote\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"GetWorkspaceDetailsFromName","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetWorkspaceDetailsFromName.output.HttpStatusCode 404}}","Message":"The \"{{.global.task.input.TerraformOrganizationName}} / {{.global.task.input.TerraformWorkspaceName}}\" Terraform Organisation Workspace names are not in the system. Try again by providing the right names.","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{ne .global.GetWorkspaceDetailsFromName.output.HttpStatusCode 200}}","Message":"We are unable to fetch the Workspace ID with Workspace and Organization details that you specified due to an unexpected error. Do try again. \"{{.global.GetWorkspaceDetailsFromName.output.HttpStatusMsg}}.\"","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{eq .global.GetWorkspaceDetailsFromName.output.HttpStatusCode 200}}","Message":"The Workspace ID in use is \"{{.global.GetWorkspaceDetailsFromName.output.WorkspaceId}}\".","ObjectType":"workflow.Outcome","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceId","ObjectType":"content.Parameter","Path":"$.data.id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceAutoApply","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"auto-apply\"]","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/organizations/{{.global.task.input.TerraformOrganizationName | TrimSpace}}/workspaces/{{.global.task.input.TerraformWorkspaceName | TrimSpace}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to fetch workspace Id","Name":"GetWorkspaceDetailsFromName","ObjectType":"workflow.BatchApiExecutor","Output":{"WorkspaceAutoApply":"{{.global.GetWorkspaceDetailsFromName.output.WorkspaceAutoApply}}","WorkspaceId":"{{.global.GetWorkspaceDetailsFromName.output.WorkspaceId}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"GetWorkspaceDetailsFromName\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{\"data\":{\"type\":\"vars\",\"attributes\":{\"key\":\"{{if index .global.task.input.TerraformAddVariable `Key`}}{{.global.task.input.TerraformAddVariable.Key | TrimSpace}}{{end}}\",\"value\":\"{{if index .global.task.input.TerraformAddVariable `Value`}}{{.global.task.input.TerraformAddVariable.Value | TrimSpace}}{{end}}\",\"description\":\"{{if index .global.task.input.TerraformAddVariable `Description`}}{{.global.task.input.TerraformAddVariable.Description | TrimSpace}}{{end}}\",\"category\":\"terraform\",\"hcl\":false,\"sensitive\":false},\"relationships\":{\"workspace\":{\"data\":{\"id\":\"{{.global.task.input.WorkspaceId}}\",\"type\":\"workspaces\"}}}}}","ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"POST","Name":"AddVariable","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.AddVariable.output.HttpStatusCode 422}}","Message":"The variable \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{end}}\" was not added. \"{{.global.AddVariable.output.detail}}.\" Try again by providing the right variable name.","Name":"AddVariableFailure","Type":"Error"},{"Condition":"{{eq .global.AddVariable.output.HttpStatusCode 201}}","Message":"The variable \"{{.global.task.input.TerraformAddVariable.Key}}\" is added.","Name":"AddVariableSuccess","Type":"Success"},{"Condition":"{{ne .global.AddVariable.output.HttpStatusCode  201}}","Message":"This variable \"{{if index .global.task.input.TerraformAddVariable `Key`}}{{ .global.task.input.TerraformAddVariable.Key }}{{ end }}\" was not added due to an unexpected error. Do try again. \"{{.global.AddVariable.output.HttpStatusMsg}}.\"","Name":"AnyOtherFailure","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"detail","ObjectType":"content.Parameter","Path":"$.errors[0].detail","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to add a Terraform Variable","Name":"AddVariable","ObjectType":"workflow.BatchApiExecutor","Output":{},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddVariable\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{\"data\":{\"type\":\"vars\",\"attributes\":{\"key\":\"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{.global.task.input.TerraformAddSensitiveVariable.Key | TrimSpace}}{{end}}\",\"value\":\"{{if index .global.task.input.TerraformAddSensitiveVariable `Value`}}{{.global.task.input.TerraformAddSensitiveVariable.Value | TrimSpace}}{{end}}\",\"description\":\"{{if index .global.task.input.TerraformAddSensitiveVariable `Description`}}{{.global.task.input.TerraformAddSensitiveVariable.Description | TrimSpace}}{{end}}\",\"category\":\"terraform\",\"hcl\":false,\"sensitive\":true},\"relationships\":{\"workspace\":{\"data\":{\"id\":\"{{.global.task.input.WorkspaceId}}\",\"type\":\"workspaces\"}}}}}","ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"POST","Name":"AddSensitiveVariable","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.AddSensitiveVariable.output.HttpStatusCode 422}}","Message":"The variable \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{end}}\" was not added. \"{{.global.AddSensitiveVariable.output.detail}}.\" Try again by providing the right variable name.","Name":"AddSensitiveVariableFailure","Type":"Error"},{"Condition":"{{eq .global.AddSensitiveVariable.output.HttpStatusCode 201}}","Message":"The variable \"{{.global.task.input.TerraformAddSensitiveVariable.Key}}\" is added.","Name":"AddSensitiveVariableSuccess","Type":"Success"},{"Condition":"{{ne .global.AddSensitiveVariable.output.HttpStatusCode  201}}","Message":"This variable \"{{if index .global.task.input.TerraformAddSensitiveVariable `Key`}}{{ .global.task.input.TerraformAddSensitiveVariable.Key }}{{ end }}\" was not added due to an unexpected error. Do try again. \"{{.global.AddSensitiveVariable.output.HttpStatusMsg}}.\"","Name":"AnyOtherFailure","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"detail","ObjectType":"content.Parameter","Path":"$.errors[0].detail","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to add a sensitive Terraform Variable","Name":"AddSensitiveVariable","ObjectType":"workflow.BatchApiExecutor","Output":{},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"AddSensitiveVariable\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{{- if index .global.task.input \"Body\" -}}\n  {{.global.task.input.Body.Text}}\n{{- end -}}","ContentType":"{{- if index .global.task.input \"ContentType\" -}}\n  {{.global.task.input.ContentType}}\n{{- else -}}json{{- end -}}","Cookies":"{{- if index .global.task.input \"Cookies\" -}}\n  {{.global.task.input.Cookies | ToJson}}\n{{- end -}}","EndpointRequestType":"Internal","Headers":"{{- if index .global.task.input \"Headers\" -}}\n  {{.global.task.input.Headers | ToJson}}\n{{- end -}}","Method":"{{- if index .global.task.input \"Method\" -}}\n  {{.global.task.input.Method}}\n{{- else -}}GET{{- end -}}","Name":"GenericBatchApiTask","ObjectType":"workflow.WebApi","Outcomes":"{{- if index .global.task.input \"Outcomes\" -}}\n  {{.global.task.input.Outcomes | ToJson}}\n{{- end -}}","Protocol":"{{- if index .global.task.input \"Protocol\" -}}\n  {{.global.task.input.Protocol}}\n{{- else -}}https{{- end -}}","ResponseSpec":"{{- if index .global.task.input \"ResponseParser\" -}}\n  {{.global.task.input.ResponseParser | ToJson}}\n{{- end -}}","TargetType":"{{- if index .global.task.input \"Target\" -}}\n  Endpoint\n{{- else -}}Local{{- end -}}","Url":"{{.global.task.input.Url}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Generic Batch API Task","Name":"GenericBatchApiTask","ObjectType":"workflow.BatchApiExecutor","Output":{"Cookies":"{{- if index .global.GenericBatchApiTask.output \"HttpCookies\" -}}\n  {{.global.GenericBatchApiTask.output.HttpCookies | ToJson}}\n{{- end -}}","Headers":"{{- if index .global.GenericBatchApiTask.output \"HttpHeaders\" -}}\n  {{.global.GenericBatchApiTask.output.HttpHeaders | ToJson}}\n{{- end -}}","Parameters":"{{.global.GenericBatchApiTask.output | ToJson}}","StatusCode":"{{- if index .global.GenericBatchApiTask.output \"HttpStatusCode\" -}}\n  {{.global.GenericBatchApiTask.output.HttpStatusCode}}\n{{- end -}}","StatusMessage":"{{- if index .global.GenericBatchApiTask.output \"HttpStatusMsg\" -}}\n  {{.global.GenericBatchApiTask.output.HttpStatusMsg}}\n{{- end -}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"InvokeGenericWebApi\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"MonitorRunTask","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.MonitorRunTask.output.HttpStatusCode 404}}","Message:":"This Run ID \"{{ .global.task.input.RunId }}\" does not exist. Do try again by providing the right Run ID.","Type":"Error"},{"Condition":"{{ne .global.MonitorRunTask.output.HttpStatusCode 200}}","Message":"We are unable to retrieve the status due to an unexpected error. Do try again. \"{{.global.MonitorRunTask.output.HttpStatusMsg}}.\"","Type":"Error"},{"Condition":"{{ (or (eq .global.MonitorRunTask.output.RunStatus \"applied\") (eq .global.MonitorRunTask.output.RunStatus \"planned_and_finished\")) }}","Message":"The Run ID \"{{ .global.task.input.RunId }}\" is being processed and the status is \"{{.global.MonitorRunTask.output.RunStatus}}\".","ObjectType":"workflow.Outcome","Type":"Success"},{"Condition":"{{ ( or (eq .global.MonitorRunTask.output.RunStatus \"planned\") ( or  (eq .global.MonitorRunTask.output.RunStatus \"applying\") ( or (eq .global.MonitorRunTask.output.RunStatus \"apply_queued\") (eq .global.MonitorRunTask.output.RunStatus \"confirmed\")))) }}","Message":"The Run ID \"{{ .global.task.input.RunId }}\" is being processed and the status is \"{{.global.MonitorRunTask.output.RunStatus}}\".","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{ ( or (eq .global.MonitorRunTask.output.RunStatus \"policy_checked\") ( or  (eq .global.MonitorRunTask.output.RunStatus \"cost_estimating\") ( or (eq .global.MonitorRunTask.output.RunStatus \"cost_estimated\") ( or (eq .global.MonitorRunTask.output.RunStatus \"policy_checking\") (eq .global.MonitorRunTask.output.RunStatus \"planning\"))))) }}","Message":"RunId {{ .global.task.input.RunId }} : Status {{.global.MonitorRunTask.output.RunStatus}}","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"true","Message":"We are unable to retrieve the status due to an unexpected error. Do try again. \"{{.global.MonitorRunTask.output.RunStatus}}\".","Name":"FailureState","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"RunStatus","ObjectType":"content.Parameter","Path":"$.data.attributes.status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/runs/{{.global.task.input.RunId}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Generic Batch API Task","Name":"MonitorRunTask","ObjectType":"workflow.BatchApiExecutor","Output":{"RunStatus":"{{.global.MonitorRunTask.output.RunStatus}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"ShowTaskStatus\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"}]