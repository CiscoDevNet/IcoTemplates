[{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Fetches the Workspace ID and AutoApply config for the given Name","Label":"Get Workspace Details From Name","Name":"GetWorkspaceDetailsFromName","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform target Type","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Organization","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace ID","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configured in the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Auto Apply","Name":"WorkspaceAutoApply","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"},"Required":true}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"This data type takes holds information about a formatted string.","Label":"Formatted Text","Name":"FormattedText","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The content type of the request. Currently supports JSON and Text.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Content Type","Name":"ContentType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"JSON","ObjectType":"workflow.EnumEntry","Value":"json"},{"Label":"Text","ObjectType":"workflow.EnumEntry","Value":"text"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The content of the formatted text that can spawn multiple lines.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Text","Name":"Text","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Response parser framework supports extraction of required values from API/device responses. These responses may be of various content types such as XML, JSON, etc. The values of importance are modeled as parameters in the response parser framework.\nThe parameters can be of a scalar value type or a collection of values. A group of related parameters can be modeled as a single complex type parameter. These complex types will be very useful to extract a set of repeating group of related parameters.\nA response parser specification defines the set of parameters that need to be extracted from the content. The response parser specification allows complex type definitions to be defined for any complex parameters.","Label":"Response Parser","Name":"ResponseParserType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"ResponseParameter","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The collection of parameters that need to be extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameters","Max":10,"Min":1,"Name":"Parameters","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","Label":"Invoke Web API Request","Name":"InvokeGenericWebApi","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}]},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"HTTP protocol to be used - HTTP, HTTPS. Populated implicitly by fetching the value from target task input if API endpoint is added as target within Intersight. Default value of HTTPS is set if not specified in other scenarios.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Protocol","Name":"Protocol","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"HTTP","ObjectType":"workflow.EnumEntry","Value":"http"},{"Label":"HTTPS","ObjectType":"workflow.EnumEntry","Value":"https"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"HTTP method to be requested on the given URL. If the value is not given, GET is used as default.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Method","Name":"Method","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"GET","ObjectType":"workflow.EnumEntry","Value":"GET"},{"Label":"HEAD","ObjectType":"workflow.EnumEntry","Value":"HEAD"},{"Label":"POST","ObjectType":"workflow.EnumEntry","Value":"POST"},{"Label":"PUT","ObjectType":"workflow.EnumEntry","Value":"PUT"},{"Label":"PATCH","ObjectType":"workflow.EnumEntry","Value":"PATCH"},{"Label":"DELETE","ObjectType":"workflow.EnumEntry","Value":"DELETE"},{"Label":"OPTIONS","ObjectType":"workflow.EnumEntry","Value":"OPTIONS"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Relative URL for Intersight, Device Registration and Target APIs. Does not support specifying fully qualified URL.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"URL","Name":"Url","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The request headers that need to be sent in the request in key value pairs list.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Headers","Name":"Headers","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The key value pairs given in this input will be sent in HTTP 'Cookie' header.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cookies","Name":"Cookies","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The type of the response. Currently supports JSON.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Response Type","Name":"ContentType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"JSON","ObjectType":"workflow.EnumEntry","Value":"json"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The optional request body that is sent as part of this API request. The request body can contain golang templates that can be populated with task input parameters and previous API output parameters.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Body","Name":"Body","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"FormattedText","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The structure of the response parser shall provide the list of values that need to be extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Response Parser","Name":"ResponseParser","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ResponseParserType","ObjectType":"workflow.CustomDataProperty"}},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"Outcome","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Allows to capture the possible outcomes of this API. This is a collection of outcomes which gets evaluated in the order they are given. If an outcome condition evaluates to 'true', status of the task can be set to one of the supported types - Success, Error or no operation and also an optional task execution message can be set.\nAt the end of the outcomes list, a catchall success/fail outcome can be added with condition explicitly set as 'true'. This allows to mark the status of task execution either success or failure when none of the previous outcomes match.\nWhen no outcomes is specified, default behaviour is to mark the API execution status 'success' if obtained HTTP status code is 2xx else mark it as 'failed'.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Outcomes","Max":10,"Name":"Outcomes","ObjectType":"workflow.ArrayDataType"}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The response headers that are extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Headers","Name":"Headers","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of cookies obtained from the response in the form of key value pairs.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cookies","Name":"Cookies","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The HTTP status code of the Web API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Status Code","Name":"StatusCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The HTTP status message of the Web API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Status Message","Name":"StatusMessage","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of output parameters extracted from the response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameters","Name":"Parameters","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Executors"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Monitor Terraform Run Execution Status","Label":"Monitor Terraform Run Execution Status","Name":"ShowTaskStatus","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"RunId of the executing Run","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run Id","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The status of the Run ID being applied","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run Status","Name":"RunStatus","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryCount":3,"RetryDelay":10,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":10,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform variable type CDT","Label":"Terraform Key Value Type","Name":"TerraformKeyValueType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable key","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Key","Name":"Key","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable Value","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Gets name and value of state version outputIds","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"State version outputIds","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"StateVersionOutputId","Name":"StateVersionOutputId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"Get State Version Output Name Value","Name":"GetStateVersionOutputNameValue","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name and value of state version outputIds","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name Value Pair","Name":"NameValuePair","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformKeyValueType","ObjectType":"workflow.CustomDataType"},"Required":true}],"OutputParameters":{"NameValuePair":{"Key":"{{.global.GetNameValue.output.Parameters.Name}}","Value":"{{.global.GetNameValue.output.Parameters.Value}}"}},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"GetNameValue","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Gets name and value of the state outputId","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 200}}","Message":"{{.local.response.Name}} : {{.local.response.Value}}","Name":"SuccessCase","Type":"Success"},{"Condition":"{{ne .local.response.HttpStatusCode  200}}","Message":"We are unable to fetch the Name and Value for the Output \"${workflow.input.StateVersionOutputId}\" due to an unexpected error message. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"FailureCase","Type":"Error"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"Name","Path":"$.data.attributes.name","Type":"string"},{"Name":"Value","Path":"$.data.attributes.value","Type":"string"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"api/v2/state-version-outputs/${workflow.input.StateVersionOutputId}"},"Label":"GetNameValue","Name":"GetNameValue","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform target Type","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"Approve Terraform Run","Name":"ApproveTerraformRun","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace ID","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Apply Method configured in the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Auto Apply","Name":"WorkspaceAutoApply","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Current state version of the Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Current State Version","Name":"CurrentStateVersion","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformKeyValueType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name-Value pairs of the State Outputs","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Outputs","Max":32,"Min":1,"Name":"Outputs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run ID","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run Status","Name":"RunStatus","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"CurrentStateVersion":"{{.global.GetCurrentStateVersion.output.Parameters.CurrentStateVersion}}","Outputs":"${QueryStateVersionOutput.output.NameValuePair}","RunId":"{{if index .global.GetLatestRunIdForAutoapply.output `Parameters`}}{{.global.GetLatestRunIdForAutoapply.output.Parameters.RunId}}{{else}}{{index .global.GetRunId.output.Parameters.RunId 0}}{{end}}","RunStatus":"{{if index .global.ValidateRunForManualApply.output `RunStatus`}}{{.global.ValidateRunForManualApply.output.RunStatus}}{{else}}{{.global.ValidateRunForAutoApply.output.RunStatus}}{{end}}","WorkspaceAutoApply":"{{.global.GetWorkspaceDetails.output.WorkspaceAutoApply}}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Tasks":[{"Name":"StartTask","NextTask":"GetWorkspaceDetails","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Fetches the Workspace ID and AutoApply config for the given Name","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"${workflow.input.TerraformWorkspaceName}"},"Label":"Get Workspace Details","Name":"GetWorkspaceDetails","ObjectType":"workflow.WorkerTask","OnSuccess":"AutoApplyDecisionTask","TaskDefinitionName":"GetWorkspaceDetailsFromName","Version":1},{"Condition":" if ( ${GetWorkspaceDetails.output.WorkspaceAutoApply} == false ) 'ManualApply'; else if ( ${GetWorkspaceDetails.output.WorkspaceAutoApply} == true )  'AutoApply'; ","DecisionCases":[{"Description":"Workspace configured with Auto Apply Method","NextTask":"GetLatestRunIdForAutoapply","ObjectType":"workflow.DecisionCase","Value":"AutoApply"},{"Description":"Workspace configured with Manual Apply Method","NextTask":"GetRunId","ObjectType":"workflow.DecisionCase","Value":"ManualApply"}],"DefaultTask":"FailureEndTask","Description":"Fetches the configured Apply Method","Label":"Auto Apply Decision Task","Name":"AutoApplyDecisionTask","ObjectType":"workflow.DecisionTask"},{"CatalogMoid":"shared","Description":"Manual Apply Method: Fetches the Run ID for the \"Needs Confirmation\" run","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{ne .local.response.HttpStatusCode  200}}","Message":"We are unable to fetch the Run ID due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg }}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .local.response.RunId}}true{{else}}false{{end}}","Message":"We are unable to fetch the Run ID. Do try again after ensuring that the Run is in the \"Needs Confirmation\" state.","Name":"NoRunIdWithIsConfirmableSetToTrue","Type":"Error"},{"Condition":"true","Message":"Run ID \"{{index .local.response.RunId 0}}\" is in use.","Name":"RunIdInPlanned","Type":"Success"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"RunId","Path":"$[\"data\"][?(@[\"attributes\"][\"actions\"][\"is-confirmable\"]==true)][\"id\"]","Type":"simple"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.GetWorkspaceDetails.output.WorkspaceId}}/runs"},"Label":"Get Run ID","Name":"GetRunId","ObjectType":"workflow.WorkerTask","OnSuccess":"ApplyRun","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"CatalogMoid":"shared","Description":"Auto Apply Method: Fetches the latest Run ID","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{ne .local.response.HttpStatusCode  200}}","Message":"We are unable to fetch the latest Run ID due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .local.response.RunId}}true{{else}}false{{end}}","Message":"We are unable to fetch a Run ID.  Do retry by uploading a configuration version.","Name":"WorkspaceHasNoRuns","Type":"Error"},{"Condition":"true","Message":"The Run ID in use is \"{{.local.response.RunId}}\".","Name":"WorkspaceHasRuns","Type":"Success"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"RunId","Path":"$.data[0].id","Type":"simple"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.GetWorkspaceDetails.output.WorkspaceId}}/runs"},"Label":"Get Latest Run ID","Name":"GetLatestRunIdForAutoapply","ObjectType":"workflow.WorkerTask","OnSuccess":"ValidateRunForAutoApply","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"CatalogMoid":"shared","Description":"Manual Apply Method: Applies the run waiting for confirmation","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"POST","Outcomes":[{"Condition":"{{ne .local.response.HttpStatusCode 202}}","Message":"We are unable to apply the run due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{eq .local.response.HttpStatusCode 202}}","Message":"The run is applied.","Name":"ApplyRunSubmitted","Type":"Success"}],"Protocol":"https","ResponseParser":{},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/runs/{{index .global.GetRunId.output.Parameters.RunId 0}}/actions/apply"},"Label":"Apply Run","Name":"ApplyRun","ObjectType":"workflow.WorkerTask","OnSuccess":"ValidateRunForManualApply","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"CatalogMoid":"shared","Description":"Manual Apply Method: Checks the Run execution Status","InputParameters":{"RunId":"{{index .global.GetRunId.output.Parameters.RunId 0}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}"},"Label":"Validate Run For Manual Apply","Name":"ValidateRunForManualApply","ObjectType":"workflow.WorkerTask","OnSuccess":"GetCurrentStateVersion","TaskDefinitionName":"ShowTaskStatus","Version":1},{"CatalogMoid":"shared","Description":"Auto Apply Method: Checks the Run execution status","InputParameters":{"RunId":"{{.global.GetLatestRunIdForAutoapply.output.Parameters.RunId}}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}"},"Label":"Validate Run For Auto Apply","Name":"ValidateRunForAutoApply","ObjectType":"workflow.WorkerTask","OnSuccess":"GetCurrentStateVersion","TaskDefinitionName":"ShowTaskStatus","Version":1},{"CatalogMoid":"shared","Description":"Fetches the Current State Version for the Workspace","InputParameters":{"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"GET","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 200}}","Message":"We fetched the current state version for the Workspace.","Name":"SuccessCase","Type":"Success"},{"Condition":"{{ne .local.response.HttpStatusCode 200}}","Message":"We are unable to fetch the current state version due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"FailureCase","Type":"Error"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"CurrentStateVersion","Path":"$[\"data\"][\"attributes\"][\"hosted-state-download-url\"]","Type":"simple"},{"Name":"StateVersionOutputs","Path":"$.data.relationships.outputs.data[*].id","Type":"string"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.GetWorkspaceDetails.output.WorkspaceId}}/current-state-version"},"Label":"Get Current State Version","Name":"GetCurrentStateVersion","ObjectType":"workflow.WorkerTask","OnSuccess":"QueryStateVersionOutputs","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"Count":"{{len .global.GetCurrentStateVersion.output.Parameters.StateVersionOutputs}}","Description":"Queries Name and Value of State Version Outputs","Label":"Query State Version Outputs","LoopStartTask":"QueryStateVersionOutput","Name":"QueryStateVersionOutputs","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"SuccessEndTask","Parallel":true},{"CatalogMoid":"shared","Description":"Queries Name and Value of State Version Output","InputParameters":{"StateVersionOutputId":"{{ index .global.GetCurrentStateVersion.output.Parameters.StateVersionOutputs .iteration }}","TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}"},"Label":"Query State Version Output","Name":"QueryStateVersionOutput","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"GetStateVersionOutputNameValue"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Queueing a plan in a workflow","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Reason for queueing plan","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Reason for queueing plan","Name":"QueueReason","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"InputParameterSet":[],"Label":"Invoke Queue Terraform Plan","Name":"InvokeQueueTerraformPlan","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace ID","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Run ID","Name":"RunId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"RunId":"${QueuePlan.output.Parameters.RunId}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Tasks":[{"Name":"StartTask","NextTask":"GetWorkspaceDetails","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Fetches the Workspace ID and AutoApply config for the given Name","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"${workflow.input.TerraformWorkspaceName}"},"Label":"Get Workspace Details","Name":"GetWorkspaceDetails","ObjectType":"workflow.WorkerTask","OnSuccess":"QueuePlan","TaskDefinitionName":"GetWorkspaceDetailsFromName","Version":1},{"CatalogMoid":"shared","Description":"Queues the plan for the specified Workspace.","InputParameters":{"Body":{"ContentType":"json","Text":"{\"data\":{\"attributes\":{\"comment\":null,\"message\":\"${workflow.input.QueueReason}\",\"is-destroy\":false},\"relationships\":{\"workspace\":{\"data\":{\"type\":\"workspaces\",\"id\":\"{{.global.GetWorkspaceDetails.output.WorkspaceId}}\"}}},\"type\":\"runs\"}}"},"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"POST","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 422}}","Message":"We are unable to queue a plan for the Workspace \"${workflow.input.TerraformWorkspaceName}\". \"{{.local.response.detail}}\". Do retry by uploading a configuration version.","Name":"ConfigDoesNotExist","Type":"Error"},{"Condition":"{{ne .local.response.HttpStatusCode 201}}","Message":"We are unable to queue a plan for the Workspace \"${workflow.input.TerraformWorkspaceName}\" due to an unexpected error. Do try again. \"{{.local.response.HttpStatusMsg}}.\"","Name":"AnyOtherFailure","Type":"Error"},{"Condition":"{{eq .local.response.HttpStatusCode 201}}","Message":"The plan for the Workspace \"${workflow.input.TerraformWorkspaceName}\" is queued.","Name":"ConfigUploaded","Type":"Success"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"RunId","Path":"$.data.id","Type":"simple"},{"Name":"detail","Path":"$.errors[0].detail","Type":"simple"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/runs"},"Label":"Queue Plan","Name":"QueuePlan","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeGenericWebApi","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Label":"Sleep Task","Name":"InvokeSleepTask","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Sleep Time in Seconds","Name":"SleepTimeInSec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":600,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"CoreTasks"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Get Variable Id from Terraform Workspace","Label":"Get Variable Id","Name":"GetVariableId","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable whose Id is to be fetched","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformKeyValueType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The ID of the variable fetched","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Variable ID","Name":"VariableId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Workflow to update Terraform Variable","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformKeyValueType","ObjectType":"workflow.CustomDataProperty"}}],"InputParameterSet":[],"Label":"Update Workspace Variable","Name":"UpdateWorkspaceVariable","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Variable Id","Name":"VariableId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"VariableId":"{{.global.GetVariableIdFromTask.output.VariableId}}"},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"GetVariableIdFromTask","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Fetches the ID of a given variable","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformVariable":"${workflow.input.TerraformVariable}","WorkspaceId":"${workflow.input.WorkspaceId}"},"Label":"Get Variable Id","Name":"GetVariableIdFromTask","ObjectType":"workflow.WorkerTask","OnSuccess":"UpdateVar","TaskDefinitionName":"GetVariableId","Version":1},{"CatalogMoid":"shared","Description":"Update the Variable with the value provided in the workflow\n","InputParameters":{"Body":{"ContentType":"json","Text":" {\n \"data\": {\n \"id\": \"{{.global.GetVariableIdFromTask.output.VariableId}}\",\n \"attributes\": {\n \"key\": \"{{- if index .global.workflow.input.TerraformVariable `Key` -}} {{.global.workflow.input.TerraformVariable.Key | TrimSpace}} {{- end -}}\",\n \"value\": \"{{- if index .global.workflow.input.TerraformVariable `Value` -}} {{.global.workflow.input.TerraformVariable.Value | TrimSpace}} {{- end -}}\",\n \"sensitive\": false\n }\n }\n }"},"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"PATCH","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 422}}","Message":"The variable ${workflow.input.TerraformVariable.Key} was not updated. \"{{.local.response.detail}}\". Do try again.","Name":"SensitiveToNormalNotAllowed","Type":"Error"},{"Condition":"{{eq .local.response.HttpStatusCode 200}}","Message":"The variable \"${workflow.input.TerraformVariable.Key}\" is updated.","Name":"SuccessCase","Type":"Success"},{"Condition":"{{ne .local.response.HttpStatusCode 200}}","Message":"The variable ${workflow.input.TerraformVariable.Key} was not updated. Do try again. {{.local.response.HttpStatusMsg}}.\"","Name":"FailureCase","Type":"Error"}],"Protocol":"https","ResponseParser":{"Parameters":[{"Name":"detail","Path":"$.errors[0].detail","Type":"simple"}]},"Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.workflow.input.WorkspaceId}}/vars/{{.global.GetVariableIdFromTask.output.VariableId}}"},"Label":"Update Variable","Name":"UpdateVar","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeGenericWebApi","Version":1}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Terraform Sensitive Variable Type CDT","Label":"Terraform Sensitive Key Value Type","Name":"TerraformSensitiveKeyValueType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Sensitive Terraform Variable Key","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Key","Name":"Key","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Sensitive Terraform Variable Value","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Get Sensitive Variable Id from Terraform Workspace","Label":"Get Sensitive Variable Id","Name":"GetSensitiveVariableId","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Sensitive Terraform Variable whose Id is to be fetched","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformSensitiveKeyValueType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The ID of the sensitive variable provided","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Variable ID","Name":"VariableId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SecurePropAccess":true,"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Workflow to update Sensitive Terraform Variable","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Workspace Id","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Workspace Id","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Variable","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Variable","Name":"TerraformVariable","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TerraformSensitiveKeyValueType","ObjectType":"workflow.CustomDataProperty"}}],"InputParameterSet":[],"Label":"Update Workspace Sensitive Variable","Name":"UpdateWorkspaceSensitiveVariable","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Variable Id","Name":"VariableId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"VariableId":"{{.global.GetSensitiveVariableIdFromTask.output.VariableId}}"},"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"shared","Tasks":[{"Name":"StartTask","NextTask":"GetSensitiveVariableIdFromTask","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Fetches the ID of the given sensitive variable","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformVariable":"${workflow.input.TerraformVariable}","WorkspaceId":"${workflow.input.WorkspaceId}"},"Label":"Get Sensitive Variable Id","Name":"GetSensitiveVariableIdFromTask","ObjectType":"workflow.WorkerTask","OnSuccess":"UpdateSensitiveVar","TaskDefinitionName":"GetSensitiveVariableId","Version":1},{"CatalogMoid":"shared","Description":"Update the Sensitive Variable with the value provided in the workflow\n","InputParameters":{"Body":{"ContentType":"json","Text":" {\n \"data\": {\n \"id\": \"{{.global.GetSensitiveVariableIdFromTask.output.VariableId}}\",\n \"attributes\": {\n \"key\": \"{{- if index .global.workflow.input.TerraformVariable `Key` -}} {{.global.workflow.input.TerraformVariable.Key | TrimSpace}} {{- end -}}\",\n \"value\": \"{{- if index .global.workflow.input.TerraformVariable `Value` -}} {{.global.workflow.input.TerraformVariable.Value | TrimSpace}} {{- end -}}\",\n \"sensitive\": true\n }\n }\n }"},"ContentType":"json","Headers":{"Content-Type":["application/vnd.api+json"]},"Method":"PATCH","Outcomes":[{"Condition":"{{eq .local.response.HttpStatusCode 200}}","Message":"The variable \"${workflow.input.TerraformVariable.Key}\" is updated.","Name":"SuccessCase","Type":"Success"},{"Condition":"{{ne .local.response.HttpStatusCode 200}}","Message":"The variable \"${workflow.input.TerraformVariable.Key}\" was not updated. Do try again. {{.local.response.HttpStatusMsg}}.\"","Name":"FailureCase","Type":"Error"}],"Protocol":"https","Target":"${workflow.input.TerraformCloudTarget}","Url":"/api/v2/workspaces/{{.global.workflow.input.WorkspaceId}}/vars/{{.global.GetSensitiveVariableIdFromTask.output.VariableId}}"},"Label":"Update Sensitive Terraform Variable","Name":"UpdateSensitiveVar","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeGenericWebApi","Version":1}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Updating variables in Terraform Workspace","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Workspace Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Workspace Name","Name":"TerraformWorkspaceName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformKeyValueType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Variables to be updated in the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Update Terraform Variables","Max":10,"Name":"UpdateTerraformVariables","ObjectType":"workflow.ArrayDataType"},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CustomDataTypeName":"TerraformSensitiveKeyValueType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"SensTerraitive Variables to be update in the Terraform Workspace","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Update Sensitive Terraform Variables","Max":10,"Name":"UpdateSensitiveTerraformVariables","ObjectType":"workflow.ArrayDataType"}],"InputParameterSet":[],"Label":"Update Terraform Workspace Variables","Name":"UpdateTerraformWorkspaceVariables","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"WorkspaceId","Name":"WorkspaceId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"OutputParameters":{"WorkspaceId":"{{ .global.GetWorkspaceDetails.output.WorkspaceId}}"},"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","Retryable":true,"SupportStatus":"Supported"},"SharedScope":"shared","Tags":[{"Key":"category","Value":"Terraform Cloud"}],"Tasks":[{"Name":"StartTask","NextTask":"GetWorkspaceDetails","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Fetches the Workspace ID and AutoApply config for the given Name","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformOrganizationName":"${workflow.input.TerraformOrganizationName}","TerraformWorkspaceName":"${workflow.input.TerraformWorkspaceName}"},"Label":"Get Workspace Details","Name":"GetWorkspaceDetails","ObjectType":"workflow.WorkerTask","OnSuccess":"UpdateTerraformVariables","TaskDefinitionName":"GetWorkspaceDetailsFromName","Version":1},{"Count":"{{ len .global.workflow.input.UpdateTerraformVariables }}","Description":"Update required Terraform Variables","Label":"Update Terraform Variables","LoopStartTask":"UpdateVariable","Name":"UpdateTerraformVariables","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"UpdateSensitiveTerraformVariables","Parallel":true},{"CatalogMoid":"shared","Description":"Update Terraform Variable","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformVariable":"{{ index .global.workflow.input.UpdateTerraformVariables .iteration | ToJson}}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Label":"Update Variable","Name":"UpdateVariable","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"UpdateWorkspaceVariable"},{"Count":"{{ len .global.workflow.input.UpdateSensitiveTerraformVariables }}","Description":"Update required Sensitive Terraform Variables","Label":"Update Sensitive Terraform Variables","LoopStartTask":"UpdateSensitiveVariable","Name":"UpdateSensitiveTerraformVariables","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"SuccessEndTask","Parallel":true},{"CatalogMoid":"shared","Description":"Update Sensitive Terraform Variable","InputParameters":{"TerraformCloudTarget":"${workflow.input.TerraformCloudTarget}","TerraformVariable":"{{ index .global.workflow.input.UpdateSensitiveTerraformVariables .iteration | ToJson}}","WorkspaceId":"{{.global.GetWorkspaceDetails.output.WorkspaceId}}"},"Label":"Update Sensitive Variable","Name":"UpdateSensitiveVariable","ObjectType":"workflow.SubWorkflowTask","Version":1,"WorkflowDefinitionName":"UpdateWorkspaceSensitiveVariable"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"user","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Cloud Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Cloud Target","Name":"TerraformCloudTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq TerraformCloud and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Terraform Organization Name must only contain letters, numbers, dashes and underscores","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Terraform Organization Name","Name":"TerraformOrganizationName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9_-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"OnlyLoad","Name":"OnlyLoad","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"UpdateTerraformWorkspaceVariables1","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"This workflow is used to Apply a Run waiting for confirmation for a Workspace configured with Manual Apply Method and check the Run Execution Status for a Workspace configured with Auto Apply Method","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdLoad"},"Label":"Generate application load","Name":"ApproveTerraformRun7","ObjectType":"workflow.SubWorkflowTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","Version":1,"WorkflowDefinitionName":"ApproveTerraformRun"},{"CatalogMoid":"shared","Description":"Queueing a plan in a workflow","InputParameters":{"QueueReason":"demoico","TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdLoad"},"Label":"Invoke Queue Load","Name":"InvokeQueueTerraformPlan7","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeSleepTask7","Version":1,"WorkflowDefinitionName":"InvokeQueueTerraformPlan"},{"CatalogMoid":"shared","Description":"InvokeSleepTask","InputParameters":{"SleepTimeInSec":240},"Label":"Sleep Task Load","Name":"InvokeSleepTask7","ObjectType":"workflow.WorkerTask","OnSuccess":"ApproveTerraformRun7","TaskDefinitionName":"InvokeSleepTask","Version":1},{"CatalogMoid":"shared","Description":"Updating variables in Terraform Workspace","InputParameters":{"TerraformOrganizationName":"Lab14","TerraformWorkspaceName":"AppdLoad","UpdateTerraformVariables":[{"Key":"trigcount","Value":"24"}]},"Label":"Update Terraform Workspace Variables","Name":"UpdateTerraformWorkspaceVariables1","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeQueueTerraformPlan7","Version":1,"WorkflowDefinitionName":"UpdateTerraformWorkspaceVariables"}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":224.9690985147662,"Y":-40.267325306235136},{"Name":"SuccessEndTask","X":-56.476826186862716,"Y":657.8261450187682},{"Name":"FailureEndTask","X":182.78731743730296,"Y":668.2225796252593},{"Name":"ApproveTerraformRun7","X":-51.7849863035893,"Y":342.8810379019168},{"Name":"InvokeQueueTerraformPlan7","X":-57.28683783038351,"Y":179.11964269893284},{"Name":"InvokeSleepTask7","X":178.88049653051436,"Y":238.59032555433993},{"Name":"UpdateTerraformWorkspaceVariables1","X":177.70815115788295,"Y":104.29865663736896}]},"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"GetWorkspaceDetailsFromName","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetWorkspaceDetailsFromName.output.HttpStatusCode 404}}","Message":"The \"{{.global.task.input.TerraformOrganizationName}} / {{.global.task.input.TerraformWorkspaceName}}\" Terraform Organisation Workspace names are not in the system. Try again by providing the right names.","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{ne .global.GetWorkspaceDetailsFromName.output.HttpStatusCode 200}}","Message":"We are unable to fetch the Workspace ID with Workspace and Organization details that you specified due to an unexpected error. Do try again. \"{{.global.GetWorkspaceDetailsFromName.output.HttpStatusMsg}}.\"","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{eq .global.GetWorkspaceDetailsFromName.output.HttpStatusCode 200}}","Message":"The Workspace ID in use is \"{{.global.GetWorkspaceDetailsFromName.output.WorkspaceId}}\".","ObjectType":"workflow.Outcome","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceId","ObjectType":"content.Parameter","Path":"$.data.id","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"WorkspaceAutoApply","ObjectType":"content.Parameter","Path":"$[\"data\"][\"attributes\"][\"auto-apply\"]","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/organizations/{{.global.task.input.TerraformOrganizationName | TrimSpace}}/workspaces/{{.global.task.input.TerraformWorkspaceName | TrimSpace}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to fetch workspace Id","Name":"GetWorkspaceDetailsFromName","ObjectType":"workflow.BatchApiExecutor","Output":{"WorkspaceAutoApply":"{{.global.GetWorkspaceDetailsFromName.output.WorkspaceAutoApply}}","WorkspaceId":"{{.global.GetWorkspaceDetailsFromName.output.WorkspaceId}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"GetWorkspaceDetailsFromName\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{{- if index .global.task.input \"Body\" -}}\n  {{.global.task.input.Body.Text}}\n{{- end -}}","ContentType":"{{- if index .global.task.input \"ContentType\" -}}\n  {{.global.task.input.ContentType}}\n{{- else -}}json{{- end -}}","Cookies":"{{- if index .global.task.input \"Cookies\" -}}\n  {{.global.task.input.Cookies | ToJson}}\n{{- end -}}","EndpointRequestType":"Internal","Headers":"{{- if index .global.task.input \"Headers\" -}}\n  {{.global.task.input.Headers | ToJson}}\n{{- end -}}","Method":"{{- if index .global.task.input \"Method\" -}}\n  {{.global.task.input.Method}}\n{{- else -}}GET{{- end -}}","Name":"GenericBatchApiTask","ObjectType":"workflow.WebApi","Outcomes":"{{- if index .global.task.input \"Outcomes\" -}}\n  {{.global.task.input.Outcomes | ToJson}}\n{{- end -}}","Protocol":"{{- if index .global.task.input \"Protocol\" -}}\n  {{.global.task.input.Protocol}}\n{{- else -}}https{{- end -}}","ResponseSpec":"{{- if index .global.task.input \"ResponseParser\" -}}\n  {{.global.task.input.ResponseParser | ToJson}}\n{{- end -}}","TargetType":"{{- if index .global.task.input \"Target\" -}}\n  Endpoint\n{{- else -}}Local{{- end -}}","Url":"{{.global.task.input.Url}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Generic Batch API Task","Name":"GenericBatchApiTask","ObjectType":"workflow.BatchApiExecutor","Output":{"Cookies":"{{- if index .global.GenericBatchApiTask.output \"HttpCookies\" -}}\n  {{.global.GenericBatchApiTask.output.HttpCookies | ToJson}}\n{{- end -}}","Headers":"{{- if index .global.GenericBatchApiTask.output \"HttpHeaders\" -}}\n  {{.global.GenericBatchApiTask.output.HttpHeaders | ToJson}}\n{{- end -}}","Parameters":"{{.global.GenericBatchApiTask.output | ToJson}}","StatusCode":"{{- if index .global.GenericBatchApiTask.output \"HttpStatusCode\" -}}\n  {{.global.GenericBatchApiTask.output.HttpStatusCode}}\n{{- end -}}","StatusMessage":"{{- if index .global.GenericBatchApiTask.output \"HttpStatusMsg\" -}}\n  {{.global.GenericBatchApiTask.output.HttpStatusMsg}}\n{{- end -}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"InvokeGenericWebApi\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"MonitorRunTask","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.MonitorRunTask.output.HttpStatusCode 404}}","Message:":"This Run ID \"{{ .global.task.input.RunId }}\" does not exist. Do try again by providing the right Run ID.","Type":"Error"},{"Condition":"{{ne .global.MonitorRunTask.output.HttpStatusCode 200}}","Message":"We are unable to retrieve the status due to an unexpected error. Do try again. \"{{.global.MonitorRunTask.output.HttpStatusMsg}}.\"","Type":"Error"},{"Condition":"{{ (or (eq .global.MonitorRunTask.output.RunStatus \"applied\") (eq .global.MonitorRunTask.output.RunStatus \"planned_and_finished\")) }}","Message":"The Run ID \"{{ .global.task.input.RunId }}\" is being processed and the status is \"{{.global.MonitorRunTask.output.RunStatus}}\".","ObjectType":"workflow.Outcome","Type":"Success"},{"Condition":"{{ ( or (eq .global.MonitorRunTask.output.RunStatus \"planned\") ( or  (eq .global.MonitorRunTask.output.RunStatus \"applying\") ( or (eq .global.MonitorRunTask.output.RunStatus \"apply_queued\") (eq .global.MonitorRunTask.output.RunStatus \"confirmed\")))) }}","Message":"The Run ID \"{{ .global.task.input.RunId }}\" is being processed and the status is \"{{.global.MonitorRunTask.output.RunStatus}}\".","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{ ( or (eq .global.MonitorRunTask.output.RunStatus \"policy_checked\") ( or  (eq .global.MonitorRunTask.output.RunStatus \"cost_estimating\") ( or (eq .global.MonitorRunTask.output.RunStatus \"cost_estimated\") ( or (eq .global.MonitorRunTask.output.RunStatus \"policy_checking\") (eq .global.MonitorRunTask.output.RunStatus \"planning\"))))) }}","Message":"RunId {{ .global.task.input.RunId }} : Status {{.global.MonitorRunTask.output.RunStatus}}","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"true","Message":"We are unable to retrieve the status due to an unexpected error. Do try again. \"{{.global.MonitorRunTask.output.RunStatus}}\".","Name":"FailureState","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"RunStatus","ObjectType":"content.Parameter","Path":"$.data.attributes.status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/runs/{{.global.task.input.RunId}}"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Generic Batch API Task","Name":"MonitorRunTask","ObjectType":"workflow.BatchApiExecutor","Output":{"RunStatus":"{{.global.MonitorRunTask.output.RunStatus}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"ShowTaskStatus\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"GetVariableId","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetVariableId.output.HttpStatusCode 200}}","Message":"We could not fetch the variable ID for \"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key }}{{ end }}\" due to an unexpected error. Do try again. \"{{.global.GetVariableId.output.HttpStatusMsg}}.\" ","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .global.GetVariableId.output.VariableId}}true{{else}}false{{end}}","Message":"Either the variable \"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key }}{{ end }}\" is wrong or has not been provided. Do try again.","Name":"InvalidVariableName","Type":"Error"},{"Condition":"true","Message":"The Variable ID \"{{index .global.GetVariableId.output.VariableId 0}}\" is in use with the key \"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key }}{{ end }}\".","Name":"VariableExists","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VariableId","ObjectType":"content.Parameter","Path":"$[\"data\"][?(@.attributes.key==\"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key | TrimSpace}}{{end}}\")][\"id\"]","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to fetch a Terraform Variable","Name":"GetVariableId","ObjectType":"workflow.BatchApiExecutor","Output":{"VariableId":"{{index .global.GetVariableId.output.VariableId 0}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"GetVariableId\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Headers":"{\"Content-Type\": [\"application/vnd.api+json\"]}","Method":"GET","Name":"GetSensitiveVariableId","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetSensitiveVariableId.output.HttpStatusCode 200}}","Message":"We could not fetch the variable ID for \"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key }}{{ end }}\" due to an unexpected error. Do try again. \"{{.global.GetSensitiveVariableId.output.HttpStatusMsg}}.\"","Name":"AnyFailure","Type":"Error"},{"Condition":"{{if not .global.GetSensitiveVariableId.output.VariableId}}true{{else}}false{{end}}","Message":"Either the variable \"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key }}{{ end }}\" is wrong or has not been provided. Do try again.","Name":"InvalidVariableName","Type":"Error"},{"Condition":"true","Message":"The Variable ID \"{{index .global.GetSensitiveVariableId.output.VariableId 0}}\" is in use with the key \"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key }}{{ end }}\".","Name":"VariableExists","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VariableId","ObjectType":"content.Parameter","Path":"$[\"data\"][?(@.attributes.key==\"{{if index .global.task.input.TerraformVariable `Key`}}{{ .global.task.input.TerraformVariable.Key | TrimSpace }}{{end}}\")][\"id\"]","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/v2/workspaces/{{.global.task.input.WorkspaceId}}/vars"}],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"API Task to fetch a Terraform Variable","Name":"GetSensitiveVariableId","ObjectType":"workflow.BatchApiExecutor","Output":{"VariableId":"{{index .global.GetSensitiveVariableId.output.VariableId 0}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"GetSensitiveVariableId\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"}]